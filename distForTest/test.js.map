{"version":3,"file":"test.js","mappings":"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","sources":["webpack://vanilla/./node_modules/runtypes/lib/asynccontract.js","webpack://vanilla/./node_modules/runtypes/lib/contract.js","webpack://vanilla/./node_modules/runtypes/lib/decorator.js","webpack://vanilla/./node_modules/runtypes/lib/errors.js","webpack://vanilla/./node_modules/runtypes/lib/index.js","webpack://vanilla/./node_modules/runtypes/lib/match.js","webpack://vanilla/./node_modules/runtypes/lib/reflect.js","webpack://vanilla/./node_modules/runtypes/lib/result.js","webpack://vanilla/./node_modules/runtypes/lib/runtype.js","webpack://vanilla/./node_modules/runtypes/lib/show.js","webpack://vanilla/./node_modules/runtypes/lib/types/array.js","webpack://vanilla/./node_modules/runtypes/lib/types/bigint.js","webpack://vanilla/./node_modules/runtypes/lib/types/boolean.js","webpack://vanilla/./node_modules/runtypes/lib/types/brand.js","webpack://vanilla/./node_modules/runtypes/lib/types/constraint.js","webpack://vanilla/./node_modules/runtypes/lib/types/dictionary.js","webpack://vanilla/./node_modules/runtypes/lib/types/function.js","webpack://vanilla/./node_modules/runtypes/lib/types/instanceof.js","webpack://vanilla/./node_modules/runtypes/lib/types/intersect.js","webpack://vanilla/./node_modules/runtypes/lib/types/lazy.js","webpack://vanilla/./node_modules/runtypes/lib/types/literal.js","webpack://vanilla/./node_modules/runtypes/lib/types/never.js","webpack://vanilla/./node_modules/runtypes/lib/types/number.js","webpack://vanilla/./node_modules/runtypes/lib/types/optional.js","webpack://vanilla/./node_modules/runtypes/lib/types/record.js","webpack://vanilla/./node_modules/runtypes/lib/types/string.js","webpack://vanilla/./node_modules/runtypes/lib/types/symbol.js","webpack://vanilla/./node_modules/runtypes/lib/types/template.js","webpack://vanilla/./node_modules/runtypes/lib/types/tuple.js","webpack://vanilla/./node_modules/runtypes/lib/types/union.js","webpack://vanilla/./node_modules/runtypes/lib/types/unknown.js","webpack://vanilla/./node_modules/runtypes/lib/types/void.js","webpack://vanilla/./node_modules/runtypes/lib/util.js","webpack://vanilla/./src/PushData.ts","webpack://vanilla/./src/messages.ts","webpack://vanilla/webpack/bootstrap","webpack://vanilla/./src/sw.ts"],"sourcesContent":["\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AsyncContract = void 0;\nvar errors_1 = require(\"./errors\");\nvar util_1 = require(\"./util\");\nfunction AsyncContract() {\n    var runtypes = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        runtypes[_i] = arguments[_i];\n    }\n    var lastIndex = runtypes.length - 1;\n    var argRuntypes = runtypes.slice(0, lastIndex);\n    var returnRuntype = runtypes[lastIndex];\n    return {\n        enforce: function (f) { return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            if (args.length < argRuntypes.length) {\n                var message = \"Expected \".concat(argRuntypes.length, \" arguments but only received \").concat(args.length);\n                var failure = util_1.FAILURE.ARGUMENT_INCORRECT(message);\n                throw new errors_1.ValidationError(failure);\n            }\n            for (var i = 0; i < argRuntypes.length; i++)\n                argRuntypes[i].check(args[i]);\n            var returnedPromise = f.apply(void 0, __spreadArray([], __read(args), false));\n            if (!(returnedPromise instanceof Promise)) {\n                var message = \"Expected function to return a promise, but instead got \".concat(returnedPromise);\n                var failure = util_1.FAILURE.RETURN_INCORRECT(message);\n                throw new errors_1.ValidationError(failure);\n            }\n            return returnedPromise.then(returnRuntype.check);\n        }; },\n    };\n}\nexports.AsyncContract = AsyncContract;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Contract = void 0;\nvar errors_1 = require(\"./errors\");\nvar util_1 = require(\"./util\");\nfunction Contract() {\n    var runtypes = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        runtypes[_i] = arguments[_i];\n    }\n    var lastIndex = runtypes.length - 1;\n    var argRuntypes = runtypes.slice(0, lastIndex);\n    var returnRuntype = runtypes[lastIndex];\n    return {\n        enforce: function (f) { return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            if (args.length < argRuntypes.length) {\n                var message = \"Expected \".concat(argRuntypes.length, \" arguments but only received \").concat(args.length);\n                var failure = util_1.FAILURE.ARGUMENT_INCORRECT(message);\n                throw new errors_1.ValidationError(failure);\n            }\n            for (var i = 0; i < argRuntypes.length; i++)\n                argRuntypes[i].check(args[i]);\n            return returnRuntype.check(f.apply(void 0, __spreadArray([], __read(args), false)));\n        }; },\n    };\n}\nexports.Contract = Contract;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checked = exports.check = void 0;\nvar errors_1 = require(\"./errors\");\nvar util_1 = require(\"./util\");\nvar prototypes = new WeakMap();\n/**\n * A parameter decorator. Explicitly mark the parameter as checked on every method call in combination with `@checked` method decorator. The number of `@check` params must be the same as the number of provided runtypes into `@checked`.\\\n * Usage:\n * ```ts\n * @checked(Runtype1, Runtype3)\n * method(@check p1: Static1, p2: number, @check p3: Static3) { ... }\n * ```\n */\nfunction check(target, propertyKey, parameterIndex) {\n    var prototype = prototypes.get(target) || new Map();\n    prototypes.set(target, prototype);\n    var validParameterIndices = prototype.get(propertyKey) || [];\n    prototype.set(propertyKey, validParameterIndices);\n    validParameterIndices.push(parameterIndex);\n}\nexports.check = check;\nfunction getValidParameterIndices(target, propertyKey, runtypeCount) {\n    var prototype = prototypes.get(target);\n    var validParameterIndices = prototype && prototype.get(propertyKey);\n    if (validParameterIndices) {\n        // used with `@check` parameter decorator\n        return validParameterIndices;\n    }\n    var indices = [];\n    for (var i = 0; i < runtypeCount; i++) {\n        indices.push(i);\n    }\n    return indices;\n}\n/**\n * A method decorator. Takes runtypes as arguments which correspond to the ones of the actual method.\n *\n * Usually, the number of provided runtypes must be _**the same as**_ or _**less than**_ the actual parameters.\n *\n * If you explicitly mark which parameter shall be checked using `@check` parameter decorator, the number of `@check` parameters must be _**the same as**_ the runtypes provided into `@checked`.\n *\n * Usage:\n * ```ts\n * @checked(Runtype1, Runtype2)\n * method1(param1: Static1, param2: Static2, param3: any) {\n *   ...\n * }\n *\n * @checked(Runtype1, Runtype3)\n * method2(@check param1: Static1, param2: any, @check param3: Static3) {\n *   ...\n * }\n * ```\n */\nfunction checked() {\n    var runtypes = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        runtypes[_i] = arguments[_i];\n    }\n    if (runtypes.length === 0) {\n        throw new Error('No runtype provided to `@checked`. Please remove the decorator.');\n    }\n    return function (target, propertyKey, descriptor) {\n        var method = descriptor.value;\n        var methodId = (target.name || target.constructor.name + '.prototype') +\n            (typeof propertyKey === 'string' ? \"[\\\"\".concat(propertyKey, \"\\\"]\") : \"[\".concat(String(propertyKey), \"]\"));\n        var validParameterIndices = getValidParameterIndices(target, propertyKey, runtypes.length);\n        if (validParameterIndices.length !== runtypes.length) {\n            throw new Error('Number of `@checked` runtypes and @check parameters not matched.');\n        }\n        if (validParameterIndices.length > method.length) {\n            throw new Error('Number of `@checked` runtypes exceeds actual parameter length.');\n        }\n        descriptor.value = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            runtypes.forEach(function (type, typeIndex) {\n                var parameterIndex = validParameterIndices[typeIndex];\n                var result = type.validate(args[parameterIndex]);\n                if (!result.success) {\n                    var message = \"\".concat(methodId, \", argument #\").concat(parameterIndex, \": \").concat(result.message);\n                    var failure = util_1.FAILURE.ARGUMENT_INCORRECT(message);\n                    throw new errors_1.ValidationError(failure);\n                }\n            });\n            return method.apply(this, args);\n        };\n    };\n}\nexports.checked = checked;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValidationError = void 0;\nvar ValidationError = /** @class */ (function (_super) {\n    __extends(ValidationError, _super);\n    function ValidationError(failure) {\n        var _this = _super.call(this, failure.message) || this;\n        _this.name = 'ValidationError';\n        _this.code = failure.code;\n        if (failure.details !== undefined)\n            _this.details = failure.details;\n        Object.setPrototypeOf(_this, ValidationError.prototype);\n        return _this;\n    }\n    return ValidationError;\n}(Error));\nexports.ValidationError = ValidationError;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InstanceOf = exports.Nullish = exports.Null = exports.Undefined = exports.Literal = void 0;\n__exportStar(require(\"./reflect\"), exports);\n__exportStar(require(\"./result\"), exports);\n__exportStar(require(\"./contract\"), exports);\n__exportStar(require(\"./asynccontract\"), exports);\n__exportStar(require(\"./match\"), exports);\n__exportStar(require(\"./errors\"), exports);\n__exportStar(require(\"./types/unknown\"), exports);\n__exportStar(require(\"./types/never\"), exports);\n__exportStar(require(\"./types/void\"), exports);\nvar literal_1 = require(\"./types/literal\");\nObject.defineProperty(exports, \"Literal\", { enumerable: true, get: function () { return literal_1.Literal; } });\nObject.defineProperty(exports, \"Undefined\", { enumerable: true, get: function () { return literal_1.Undefined; } });\nObject.defineProperty(exports, \"Null\", { enumerable: true, get: function () { return literal_1.Null; } });\nObject.defineProperty(exports, \"Nullish\", { enumerable: true, get: function () { return literal_1.Nullish; } });\n__exportStar(require(\"./types/template\"), exports);\n__exportStar(require(\"./types/boolean\"), exports);\n__exportStar(require(\"./types/number\"), exports);\n__exportStar(require(\"./types/bigint\"), exports);\n__exportStar(require(\"./types/string\"), exports);\n__exportStar(require(\"./types/symbol\"), exports);\n__exportStar(require(\"./types/array\"), exports);\n__exportStar(require(\"./types/tuple\"), exports);\n__exportStar(require(\"./types/record\"), exports);\n__exportStar(require(\"./types/dictionary\"), exports);\n__exportStar(require(\"./types/union\"), exports);\n__exportStar(require(\"./types/intersect\"), exports);\n__exportStar(require(\"./types/optional\"), exports);\n__exportStar(require(\"./types/function\"), exports);\nvar instanceof_1 = require(\"./types/instanceof\");\nObject.defineProperty(exports, \"InstanceOf\", { enumerable: true, get: function () { return instanceof_1.InstanceOf; } });\n__exportStar(require(\"./types/lazy\"), exports);\n__exportStar(require(\"./types/constraint\"), exports);\n__exportStar(require(\"./types/brand\"), exports);\n__exportStar(require(\"./decorator\"), exports);\n","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.when = exports.match = void 0;\nfunction match() {\n    var cases = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        cases[_i] = arguments[_i];\n    }\n    return function (x) {\n        var e_1, _a;\n        try {\n            for (var cases_1 = __values(cases), cases_1_1 = cases_1.next(); !cases_1_1.done; cases_1_1 = cases_1.next()) {\n                var _b = __read(cases_1_1.value, 2), T = _b[0], f = _b[1];\n                if (T.guard(x))\n                    return f(x);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (cases_1_1 && !cases_1_1.done && (_a = cases_1.return)) _a.call(cases_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        throw new Error('No alternatives were matched');\n    };\n}\nexports.match = match;\nfunction when(runtype, transformer) {\n    return [runtype, transformer];\n}\nexports.when = when;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Failcode = void 0;\nexports.Failcode = {\n    /** The type of the received primitive value is incompatible with expected one. */\n    TYPE_INCORRECT: 'TYPE_INCORRECT',\n    /** The received primitive value is incorrect. */\n    VALUE_INCORRECT: 'VALUE_INCORRECT',\n    /** The key of the property is incorrect. */\n    KEY_INCORRECT: 'KEY_INCORRECT',\n    /** One or more elements or properties of the received object are incorrect. */\n    CONTENT_INCORRECT: 'CONTENT_INCORRECT',\n    /** One or more arguments passed to the function is incorrect. */\n    ARGUMENT_INCORRECT: 'ARGUMENT_INCORRECT',\n    /** The value returned by the function is incorrect. */\n    RETURN_INCORRECT: 'RETURN_INCORRECT',\n    /** The received value does not fulfill the constraint. */\n    CONSTRAINT_FAILED: 'CONSTRAINT_FAILED',\n    /** The property must be present but missing. */\n    PROPERTY_MISSING: 'PROPERTY_MISSING',\n    /** The property must not be present but present. */\n    PROPERTY_PRESENT: 'PROPERTY_PRESENT',\n    /** The value must not be present but present. */\n    NOTHING_EXPECTED: 'NOTHING_EXPECTED',\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.innerValidate = exports.create = exports.isRuntype = void 0;\nvar index_1 = require(\"./index\");\nvar show_1 = require(\"./show\");\nvar errors_1 = require(\"./errors\");\nvar util_1 = require(\"./util\");\nvar RuntypeSymbol = Symbol();\nvar isRuntype = function (x) { return (0, util_1.hasKey)(RuntypeSymbol, x); };\nexports.isRuntype = isRuntype;\nfunction create(validate, A) {\n    A[RuntypeSymbol] = true;\n    A.check = check;\n    A.assert = check;\n    A._innerValidate = function (value, visited) {\n        if (visited.has(value, A))\n            return (0, util_1.SUCCESS)(value);\n        return validate(value, visited);\n    };\n    A.validate = function (value) { return A._innerValidate(value, VisitedState()); };\n    A.guard = guard;\n    A.or = Or;\n    A.and = And;\n    A.optional = optional;\n    A.nullable = nullable;\n    A.withConstraint = withConstraint;\n    A.withGuard = withGuard;\n    A.withBrand = withBrand;\n    A.reflect = A;\n    A.toString = function () { return \"Runtype<\".concat((0, show_1.default)(A), \">\"); };\n    return A;\n    function check(x) {\n        var result = A.validate(x);\n        if (result.success)\n            return result.value;\n        else\n            throw new errors_1.ValidationError(result);\n    }\n    function guard(x) {\n        return A.validate(x).success;\n    }\n    function Or(B) {\n        return (0, index_1.Union)(A, B);\n    }\n    function And(B) {\n        return (0, index_1.Intersect)(A, B);\n    }\n    function optional() {\n        return (0, index_1.Optional)(A);\n    }\n    function nullable() {\n        return (0, index_1.Union)(A, index_1.Null);\n    }\n    function withConstraint(constraint, options) {\n        return (0, index_1.Constraint)(A, constraint, options);\n    }\n    function withGuard(guard, options) {\n        return (0, index_1.Constraint)(A, guard, options);\n    }\n    function withBrand(B) {\n        return (0, index_1.Brand)(B, A);\n    }\n}\nexports.create = create;\nfunction innerValidate(targetType, value, visited) {\n    return targetType._innerValidate(value, visited);\n}\nexports.innerValidate = innerValidate;\nfunction VisitedState() {\n    var members = new WeakMap();\n    var add = function (candidate, type) {\n        if (candidate === null || !(typeof candidate === 'object'))\n            return;\n        var typeSet = members.get(candidate);\n        members.set(candidate, typeSet\n            ? typeSet.set(type, true)\n            : new WeakMap().set(type, true));\n    };\n    var has = function (candidate, type) {\n        var typeSet = members.get(candidate);\n        var value = (typeSet && typeSet.get(type)) || false;\n        add(candidate, type);\n        return value;\n    };\n    return { has: has };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Return the display string for the stringified version of a type, e.g.\n *\n * - `Number` -> `` `${number}` ``\n * - `String` -> `string`\n * - `Literal(42)` -> `\"42\"`\n * - `Union(Literal(\"foo\"), Number)` -> `` \"foo\" | `${number}` ``\n */\nvar showStringified = function (circular) { return function (refl) {\n    switch (refl.tag) {\n        case 'literal':\n            return \"\\\"\".concat(String(refl.value), \"\\\"\");\n        case 'string':\n            return 'string';\n        case 'brand':\n            return refl.brand;\n        case 'constraint':\n            return refl.name || showStringified(circular)(refl.underlying);\n        case 'union':\n            return refl.alternatives.map(showStringified(circular)).join(' | ');\n        case 'intersect':\n            return refl.intersectees.map(showStringified(circular)).join(' & ');\n        default:\n            break;\n    }\n    return \"`${\".concat(show(false, circular)(refl), \"}`\");\n}; };\n/**\n * Return the display string which is to be embedded into the display string of\n * the surrounding template literal type, e.g.\n *\n * - `Number` -> `${number}`\n * - `String` -> `${string}`\n * - `Literal(\"foo\")` -> `foo`\n * - `Union(Literal(42), Number)` -> `${\"42\" | number}`\n */\nvar showEmbedded = function (circular) { return function (refl) {\n    switch (refl.tag) {\n        case 'literal':\n            return String(refl.value);\n        case 'brand':\n            return \"${\".concat(refl.brand, \"}\");\n        case 'constraint':\n            return refl.name ? \"${\".concat(refl.name, \"}\") : showEmbedded(circular)(refl.underlying);\n        case 'union':\n            if (refl.alternatives.length === 1) {\n                var inner = refl.alternatives[0];\n                return showEmbedded(circular)(inner.reflect);\n            }\n            break;\n        case 'intersect':\n            if (refl.intersectees.length === 1) {\n                var inner = refl.intersectees[0];\n                return showEmbedded(circular)(inner.reflect);\n            }\n            break;\n        default:\n            break;\n    }\n    return \"${\".concat(show(false, circular)(refl), \"}\");\n}; };\nvar show = function (needsParens, circular) { return function (refl) {\n    var parenthesize = function (s) { return (needsParens ? \"(\".concat(s, \")\") : s); };\n    if (circular.has(refl))\n        return parenthesize(\"CIRCULAR \".concat(refl.tag));\n    else\n        circular.add(refl);\n    try {\n        switch (refl.tag) {\n            // Primitive types\n            case 'unknown':\n            case 'never':\n            case 'void':\n            case 'boolean':\n            case 'number':\n            case 'bigint':\n            case 'string':\n            case 'symbol':\n            case 'function':\n                return refl.tag;\n            case 'literal': {\n                var value = refl.value;\n                return typeof value === 'string' ? \"\\\"\".concat(value, \"\\\"\") : String(value);\n            }\n            // Complex types\n            case 'template': {\n                if (refl.strings.length === 0)\n                    return '\"\"';\n                else if (refl.strings.length === 1)\n                    return \"\\\"\".concat(refl.strings[0], \"\\\"\");\n                else if (refl.strings.length === 2) {\n                    if (refl.strings.every(function (string) { return string === ''; })) {\n                        var runtype = refl.runtypes[0];\n                        return showStringified(circular)(runtype.reflect);\n                    }\n                }\n                var backtick_1 = false;\n                var inner = refl.strings.reduce(function (inner, string, i) {\n                    var prefix = inner + string;\n                    var runtype = refl.runtypes[i];\n                    if (runtype) {\n                        var suffix = showEmbedded(circular)(runtype.reflect);\n                        if (!backtick_1 && suffix.startsWith('$'))\n                            backtick_1 = true;\n                        return prefix + suffix;\n                    }\n                    else\n                        return prefix;\n                }, '');\n                return backtick_1 ? \"`\".concat(inner, \"`\") : \"\\\"\".concat(inner, \"\\\"\");\n            }\n            case 'array':\n                return \"\".concat(readonlyTag(refl)).concat(show(true, circular)(refl.element), \"[]\");\n            case 'dictionary':\n                return \"{ [_: \".concat(refl.key, \"]: \").concat(show(false, circular)(refl.value), \" }\");\n            case 'record': {\n                var keys = Object.keys(refl.fields);\n                return keys.length\n                    ? \"{ \".concat(keys\n                        .map(function (k) {\n                        return \"\".concat(readonlyTag(refl)).concat(k).concat(partialTag(refl, k), \": \").concat(refl.fields[k].tag === 'optional'\n                            ? show(false, circular)(refl.fields[k].underlying)\n                            : show(false, circular)(refl.fields[k]), \";\");\n                    })\n                        .join(' '), \" }\")\n                    : '{}';\n            }\n            case 'tuple':\n                return \"[\".concat(refl.components.map(show(false, circular)).join(', '), \"]\");\n            case 'union':\n                return parenthesize(\"\".concat(refl.alternatives.map(show(true, circular)).join(' | ')));\n            case 'intersect':\n                return parenthesize(\"\".concat(refl.intersectees.map(show(true, circular)).join(' & ')));\n            case 'optional':\n                return show(needsParens, circular)(refl.underlying) + ' | undefined';\n            case 'constraint':\n                return refl.name || show(needsParens, circular)(refl.underlying);\n            case 'instanceof':\n                return refl.ctor.name;\n            case 'brand':\n                return show(needsParens, circular)(refl.entity);\n        }\n    }\n    finally {\n        circular.delete(refl);\n    }\n    /* istanbul ignore next */\n    throw Error('impossible');\n}; };\nexports.default = show(false, new Set());\nfunction partialTag(_a, key) {\n    var isPartial = _a.isPartial, fields = _a.fields;\n    return isPartial || (key !== undefined && fields[key].tag === 'optional') ? '?' : '';\n}\nfunction readonlyTag(_a) {\n    var isReadonly = _a.isReadonly;\n    return isReadonly ? 'readonly ' : '';\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Array = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\n/**\n * Construct an array runtype from a runtype for its elements.\n */\nfunction InternalArr(element, isReadonly) {\n    var self = { tag: 'array', isReadonly: isReadonly, element: element };\n    return withExtraModifierFuncs((0, runtype_1.create)(function (xs, visited) {\n        if (!Array.isArray(xs))\n            return util_1.FAILURE.TYPE_INCORRECT(self, xs);\n        var keys = (0, util_1.enumerableKeysOf)(xs);\n        var results = keys.map(function (key) {\n            return (0, runtype_1.innerValidate)(element, xs[key], visited);\n        });\n        var details = keys.reduce(function (details, key) {\n            var result = results[key];\n            if (!result.success)\n                details[key] = result.details || result.message;\n            return details;\n        }, []);\n        if ((0, util_1.enumerableKeysOf)(details).length !== 0)\n            return util_1.FAILURE.CONTENT_INCORRECT(self, details);\n        else\n            return (0, util_1.SUCCESS)(xs);\n    }, self));\n}\nfunction Arr(element) {\n    return InternalArr(element, false);\n}\nexports.Array = Arr;\nfunction withExtraModifierFuncs(A) {\n    A.asReadonly = asReadonly;\n    return A;\n    function asReadonly() {\n        return InternalArr(A.element, true);\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BigInt = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\nvar self = { tag: 'bigint' };\n/**\n * Validates that a value is a bigint.\n */\nexports.BigInt = (0, runtype_1.create)(function (value) { return (typeof value === 'bigint' ? (0, util_1.SUCCESS)(value) : util_1.FAILURE.TYPE_INCORRECT(self, value)); }, self);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Boolean = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\nvar self = { tag: 'boolean' };\n/**\n * Validates that a value is a boolean.\n */\nexports.Boolean = (0, runtype_1.create)(function (value) { return (typeof value === 'boolean' ? (0, util_1.SUCCESS)(value) : util_1.FAILURE.TYPE_INCORRECT(self, value)); }, self);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Brand = void 0;\nvar runtype_1 = require(\"../runtype\");\nfunction Brand(brand, entity) {\n    var self = { tag: 'brand', brand: brand, entity: entity };\n    return (0, runtype_1.create)(function (value) { return entity.validate(value); }, self);\n}\nexports.Brand = Brand;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Guard = exports.Constraint = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\nvar unknown_1 = require(\"./unknown\");\nfunction Constraint(underlying, constraint, options) {\n    var name = options && options.name;\n    var args = options && options.args;\n    var self = {\n        tag: 'constraint',\n        underlying: underlying,\n        constraint: constraint,\n        name: name,\n        args: args,\n    };\n    return (0, runtype_1.create)(function (value) {\n        var result = underlying.validate(value);\n        if (!result.success)\n            return result;\n        var message = constraint(result.value);\n        if (typeof message === 'string')\n            return util_1.FAILURE.CONSTRAINT_FAILED(self, message);\n        else if (!message)\n            return util_1.FAILURE.CONSTRAINT_FAILED(self);\n        return (0, util_1.SUCCESS)(result.value);\n    }, self);\n}\nexports.Constraint = Constraint;\nvar Guard = function (guard, options) { return unknown_1.Unknown.withGuard(guard, options); };\nexports.Guard = Guard;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Dictionary = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar string_1 = require(\"./string\");\nvar constraint_1 = require(\"./constraint\");\nvar show_1 = require(\"../show\");\nvar util_1 = require(\"../util\");\nvar NumberKey = (0, constraint_1.Constraint)(string_1.String, function (s) { return !isNaN(+s); }, { name: 'number' });\nfunction Dictionary(value, key) {\n    var keyRuntype = key === undefined\n        ? string_1.String\n        : key === 'string'\n            ? string_1.String\n            : key === 'number'\n                ? NumberKey\n                : key;\n    var keyString = (0, show_1.default)(keyRuntype);\n    var self = { tag: 'dictionary', key: keyString, value: value };\n    return (0, runtype_1.create)(function (x, visited) {\n        if (x === null || x === undefined || typeof x !== 'object')\n            return util_1.FAILURE.TYPE_INCORRECT(self, x);\n        if (Object.getPrototypeOf(x) !== Object.prototype)\n            if (!Array.isArray(x) || keyString === 'string')\n                return util_1.FAILURE.TYPE_INCORRECT(self, x);\n        var numberString = /^(?:NaN|-?\\d+(?:\\.\\d+)?)$/;\n        var keys = (0, util_1.enumerableKeysOf)(x);\n        var results = keys.reduce(function (results, key) {\n            // We should provide interoperability with `number` and `string` here,\n            // as a user would expect JavaScript engines to convert numeric keys to\n            // string keys automatically. So, if the key can be interpreted as a\n            // decimal number, then test it against a `Number` OR `String` runtype.\n            var isNumberLikeKey = typeof key === 'string' && numberString.test(key);\n            var keyInterop = isNumberLikeKey ? globalThis.Number(key) : key;\n            if (isNumberLikeKey\n                ? !keyRuntype.guard(keyInterop) && !keyRuntype.guard(key)\n                : !keyRuntype.guard(keyInterop)) {\n                results[key] = util_1.FAILURE.KEY_INCORRECT(self, keyRuntype.reflect, keyInterop);\n            }\n            else\n                results[key] = (0, runtype_1.innerValidate)(value, x[key], visited);\n            return results;\n        }, {});\n        var details = keys.reduce(function (details, key) {\n            var result = results[key];\n            if (!result.success)\n                details[key] = result.details || result.message;\n            return details;\n        }, {});\n        if ((0, util_1.enumerableKeysOf)(details).length !== 0)\n            return util_1.FAILURE.CONTENT_INCORRECT(self, details);\n        else\n            return (0, util_1.SUCCESS)(x);\n    }, self);\n}\nexports.Dictionary = Dictionary;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Function = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\nvar self = { tag: 'function' };\n/**\n * Construct a runtype for functions.\n */\nexports.Function = (0, runtype_1.create)(function (value) { return (typeof value === 'function' ? (0, util_1.SUCCESS)(value) : util_1.FAILURE.TYPE_INCORRECT(self, value)); }, self);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InstanceOf = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\nfunction InstanceOf(ctor) {\n    var self = { tag: 'instanceof', ctor: ctor };\n    return (0, runtype_1.create)(function (value) { return (value instanceof ctor ? (0, util_1.SUCCESS)(value) : util_1.FAILURE.TYPE_INCORRECT(self, value)); }, self);\n}\nexports.InstanceOf = InstanceOf;\n","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Intersect = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\n/**\n * Construct an intersection runtype from runtypes for its alternatives.\n */\nfunction Intersect() {\n    var intersectees = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        intersectees[_i] = arguments[_i];\n    }\n    var self = { tag: 'intersect', intersectees: intersectees };\n    return (0, runtype_1.create)(function (value, visited) {\n        var e_1, _a;\n        try {\n            for (var intersectees_1 = __values(intersectees), intersectees_1_1 = intersectees_1.next(); !intersectees_1_1.done; intersectees_1_1 = intersectees_1.next()) {\n                var targetType = intersectees_1_1.value;\n                var result = (0, runtype_1.innerValidate)(targetType, value, visited);\n                if (!result.success)\n                    return result;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (intersectees_1_1 && !intersectees_1_1.done && (_a = intersectees_1.return)) _a.call(intersectees_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return (0, util_1.SUCCESS)(value);\n    }, self);\n}\nexports.Intersect = Intersect;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Lazy = void 0;\nvar runtype_1 = require(\"../runtype\");\n/**\n * Construct a possibly-recursive Runtype.\n */\nfunction Lazy(delayed) {\n    var data = {\n        get tag() {\n            return getWrapped()['tag'];\n        },\n    };\n    var cached;\n    function getWrapped() {\n        if (!cached) {\n            cached = delayed();\n            for (var k in cached)\n                if (k !== 'tag')\n                    data[k] = cached[k];\n        }\n        return cached;\n    }\n    return (0, runtype_1.create)(function (x) {\n        return getWrapped().validate(x);\n    }, data);\n}\nexports.Lazy = Lazy;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Nullish = exports.Null = exports.Undefined = exports.Literal = exports.literal = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\nvar union_1 = require(\"./union\");\n/**\n * Be aware of an Array of Symbols `[Symbol()]` which would throw \"TypeError: Cannot convert a Symbol value to a string\"\n */\nfunction literal(value) {\n    return Array.isArray(value)\n        ? String(value.map(String))\n        : typeof value === 'bigint'\n            ? String(value) + 'n'\n            : String(value);\n}\nexports.literal = literal;\n/**\n * Construct a runtype for a type literal.\n */\nfunction Literal(valueBase) {\n    var self = { tag: 'literal', value: valueBase };\n    return (0, runtype_1.create)(function (value) {\n        return value === valueBase\n            ? (0, util_1.SUCCESS)(value)\n            : util_1.FAILURE.VALUE_INCORRECT('literal', \"`\".concat(literal(valueBase), \"`\"), \"`\".concat(literal(value), \"`\"));\n    }, self);\n}\nexports.Literal = Literal;\n/**\n * An alias for Literal(undefined).\n */\nexports.Undefined = Literal(undefined);\n/**\n * An alias for Literal(null).\n */\nexports.Null = Literal(null);\n/**\n * An alias for `Union(Null, Undefined)`.\n */\nexports.Nullish = (0, union_1.Union)(exports.Null, exports.Undefined);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Never = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\nvar self = { tag: 'never' };\n/**\n * Validates nothing (unknown fails).\n */\nexports.Never = (0, runtype_1.create)(util_1.FAILURE.NOTHING_EXPECTED, self);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Number = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\nvar self = { tag: 'number' };\n/**\n * Validates that a value is a number.\n */\nexports.Number = (0, runtype_1.create)(function (value) { return (typeof value === 'number' ? (0, util_1.SUCCESS)(value) : util_1.FAILURE.TYPE_INCORRECT(self, value)); }, self);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Optional = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\n/**\n * Validates optional value.\n */\nfunction Optional(runtype) {\n    var self = { tag: 'optional', underlying: runtype };\n    return (0, runtype_1.create)(function (value) { return (value === undefined ? (0, util_1.SUCCESS)(value) : runtype.validate(value)); }, self);\n}\nexports.Optional = Optional;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Partial = exports.Record = exports.InternalRecord = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\n/**\n * Construct a record runtype from runtypes for its values.\n */\nfunction InternalRecord(fields, isPartial, isReadonly) {\n    var self = { tag: 'record', isPartial: isPartial, isReadonly: isReadonly, fields: fields };\n    return withExtraModifierFuncs((0, runtype_1.create)(function (x, visited) {\n        if (x === null || x === undefined) {\n            return util_1.FAILURE.TYPE_INCORRECT(self, x);\n        }\n        var keysOfFields = (0, util_1.enumerableKeysOf)(fields);\n        if (keysOfFields.length !== 0 && typeof x !== 'object')\n            return util_1.FAILURE.TYPE_INCORRECT(self, x);\n        var keys = __spreadArray([], __read(new Set(__spreadArray(__spreadArray([], __read(keysOfFields), false), __read((0, util_1.enumerableKeysOf)(x)), false))), false);\n        var results = keys.reduce(function (results, key) {\n            var fieldsHasKey = (0, util_1.hasKey)(key, fields);\n            var xHasKey = (0, util_1.hasKey)(key, x);\n            if (fieldsHasKey) {\n                var runtype = fields[key];\n                var isOptional = isPartial || runtype.reflect.tag === 'optional';\n                if (xHasKey) {\n                    var value = x[key];\n                    if (isOptional && value === undefined)\n                        results[key] = (0, util_1.SUCCESS)(value);\n                    else\n                        results[key] = (0, runtype_1.innerValidate)(runtype, value, visited);\n                }\n                else {\n                    if (!isOptional)\n                        results[key] = util_1.FAILURE.PROPERTY_MISSING(runtype.reflect);\n                    else\n                        results[key] = (0, util_1.SUCCESS)(undefined);\n                }\n            }\n            else if (xHasKey) {\n                // TODO: exact record validation\n                var value = x[key];\n                results[key] = (0, util_1.SUCCESS)(value);\n            }\n            else {\n                /* istanbul ignore next */\n                throw new Error('impossible');\n            }\n            return results;\n        }, {});\n        var details = keys.reduce(function (details, key) {\n            var result = results[key];\n            if (!result.success)\n                details[key] = result.details || result.message;\n            return details;\n        }, {});\n        if ((0, util_1.enumerableKeysOf)(details).length !== 0)\n            return util_1.FAILURE.CONTENT_INCORRECT(self, details);\n        else\n            return (0, util_1.SUCCESS)(x);\n    }, self));\n}\nexports.InternalRecord = InternalRecord;\nfunction Record(fields) {\n    return InternalRecord(fields, false, false);\n}\nexports.Record = Record;\nfunction Partial(fields) {\n    return InternalRecord(fields, true, false);\n}\nexports.Partial = Partial;\nfunction withExtraModifierFuncs(A) {\n    A.asPartial = asPartial;\n    A.asReadonly = asReadonly;\n    A.pick = pick;\n    A.omit = omit;\n    A.extend = extend;\n    return A;\n    function asPartial() {\n        return InternalRecord(A.fields, true, A.isReadonly);\n    }\n    function asReadonly() {\n        return InternalRecord(A.fields, A.isPartial, true);\n    }\n    function pick() {\n        var keys = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            keys[_i] = arguments[_i];\n        }\n        var result = {};\n        keys.forEach(function (key) {\n            result[key] = A.fields[key];\n        });\n        return InternalRecord(result, A.isPartial, A.isReadonly);\n    }\n    function omit() {\n        var keys = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            keys[_i] = arguments[_i];\n        }\n        var result = {};\n        var existingKeys = (0, util_1.enumerableKeysOf)(A.fields);\n        existingKeys.forEach(function (key) {\n            if (!keys.includes(key))\n                result[key] = A.fields[key];\n        });\n        return InternalRecord(result, A.isPartial, A.isReadonly);\n    }\n    function extend(fields) {\n        return InternalRecord(Object.assign({}, A.fields, fields), A.isPartial, A.isReadonly);\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.String = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\nvar self = { tag: 'string' };\n/**\n * Validates that a value is a string.\n */\nexports.String = (0, runtype_1.create)(function (value) { return (typeof value === 'string' ? (0, util_1.SUCCESS)(value) : util_1.FAILURE.TYPE_INCORRECT(self, value)); }, self);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Symbol = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\nvar f = function (key) {\n    var self = { tag: 'symbol', key: key };\n    return (0, runtype_1.create)(function (value) {\n        if (typeof value !== 'symbol')\n            return util_1.FAILURE.TYPE_INCORRECT(self, value);\n        else {\n            var keyForValue = globalThis.Symbol.keyFor(value);\n            if (keyForValue !== key)\n                return util_1.FAILURE.VALUE_INCORRECT('symbol key', quoteIfPresent(key), quoteIfPresent(keyForValue));\n            else\n                return (0, util_1.SUCCESS)(value);\n        }\n    }, self);\n};\nvar self = { tag: 'symbol' };\n/**\n * Validates that a value is a symbol, regardless of whether it is keyed or not.\n */\nexports.Symbol = (0, runtype_1.create)(function (value) { return (typeof value === 'symbol' ? (0, util_1.SUCCESS)(value) : util_1.FAILURE.TYPE_INCORRECT(self, value)); }, Object.assign(f, self));\nvar quoteIfPresent = function (key) { return (key === undefined ? 'undefined' : \"\\\"\".concat(key, \"\\\"\")); };\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Template = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar show_1 = require(\"../show\");\nvar util_1 = require(\"../util\");\nvar literal_1 = require(\"./literal\");\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#escaping\nvar escapeRegExp = function (string) { return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); };\nvar parseArgs = function (args) {\n    // If the first element is an `Array`, maybe it's called by the tagged style\n    if (0 < args.length && Array.isArray(args[0])) {\n        var _a = __read(args), strings = _a[0], runtypes = _a.slice(1);\n        // For further manipulation, recreate an `Array` because `TemplateStringsArray` is readonly\n        return [Array.from(strings), runtypes];\n    }\n    else {\n        var convenient = args;\n        var strings = convenient.reduce(function (strings, arg) {\n            // Concatenate every consecutive literals as strings\n            if (!(0, runtype_1.isRuntype)(arg))\n                strings.push(strings.pop() + String(arg));\n            // Skip runtypes\n            else\n                strings.push('');\n            return strings;\n        }, ['']);\n        var runtypes = convenient.filter(runtype_1.isRuntype);\n        return [strings, runtypes];\n    }\n};\n/**\n * Flatten inner runtypes of a `Template` if possible, with in-place strategy\n */\nvar flattenInnerRuntypes = function (strings, runtypes) {\n    for (var i = 0; i < runtypes.length;) {\n        switch (runtypes[i].reflect.tag) {\n            case 'literal': {\n                var literal_2 = runtypes[i];\n                runtypes.splice(i, 1);\n                var string = String(literal_2.value);\n                strings.splice(i, 2, strings[i] + string + strings[i + 1]);\n                break;\n            }\n            case 'template': {\n                var template = runtypes[i];\n                runtypes.splice.apply(runtypes, __spreadArray([i, 1], __read(template.runtypes), false));\n                var innerStrings = template.strings;\n                if (innerStrings.length === 1) {\n                    strings.splice(i, 2, strings[i] + innerStrings[0] + strings[i + 1]);\n                }\n                else {\n                    var first = innerStrings[0];\n                    var rest = innerStrings.slice(1, -1);\n                    var last = innerStrings[innerStrings.length - 1];\n                    strings.splice.apply(strings, __spreadArray(__spreadArray([i, 2, strings[i] + first], __read(rest), false), [last + strings[i + 1]], false));\n                }\n                break;\n            }\n            case 'union': {\n                var union = runtypes[i];\n                if (union.alternatives.length === 1) {\n                    try {\n                        var literal_3 = getInnerLiteral(union);\n                        runtypes.splice(i, 1);\n                        var string = String(literal_3.value);\n                        strings.splice(i, 2, strings[i] + string + strings[i + 1]);\n                        break;\n                    }\n                    catch (_) {\n                        i++;\n                        break;\n                    }\n                }\n                else {\n                    i++;\n                    break;\n                }\n            }\n            case 'intersect': {\n                var intersect = runtypes[i];\n                if (intersect.intersectees.length === 1) {\n                    try {\n                        var literal_4 = getInnerLiteral(intersect);\n                        runtypes.splice(i, 1);\n                        var string = String(literal_4.value);\n                        strings.splice(i, 2, strings[i] + string + strings[i + 1]);\n                        break;\n                    }\n                    catch (_) {\n                        i++;\n                        break;\n                    }\n                }\n                else {\n                    i++;\n                    break;\n                }\n            }\n            default:\n                i++;\n                break;\n        }\n    }\n};\nvar normalizeArgs = function (args) {\n    var _a = __read(parseArgs(args), 2), strings = _a[0], runtypes = _a[1];\n    flattenInnerRuntypes(strings, runtypes);\n    return [strings, runtypes];\n};\nvar getInnerLiteral = function (runtype) {\n    switch (runtype.reflect.tag) {\n        case 'literal':\n            return runtype;\n        case 'brand':\n            return getInnerLiteral(runtype.reflect.entity);\n        case 'union':\n            if (runtype.reflect.alternatives.length === 1)\n                return getInnerLiteral(runtype.reflect.alternatives[0]);\n            break;\n        case 'intersect':\n            if (runtype.reflect.intersectees.length === 1)\n                return getInnerLiteral(runtype.reflect.intersectees[0]);\n            break;\n        default:\n            break;\n    }\n    throw undefined;\n};\nvar identity = function (s) { return s; };\nvar revivers = {\n    string: [function (s) { return globalThis.String(s); }, '.*'],\n    number: [\n        function (s) { return globalThis.Number(s); },\n        '[+-]?(?:\\\\d*\\\\.\\\\d+|\\\\d+\\\\.\\\\d*|\\\\d+)(?:[Ee][+-]?\\\\d+)?',\n        '0[Bb][01]+',\n        '0[Oo][0-7]+',\n        '0[Xx][0-9A-Fa-f]+',\n        // Note: `\"NaN\"` isn't here, as TS doesn't allow `\"NaN\"` to be a `` `${number}` ``\n    ],\n    bigint: [function (s) { return globalThis.BigInt(s); }, '-?[1-9]d*'],\n    boolean: [function (s) { return (s === 'false' ? false : true); }, 'true', 'false'],\n    null: [function () { return null; }, 'null'],\n    undefined: [function () { return undefined; }, 'undefined'],\n};\nvar getReviversFor = function (reflect) {\n    switch (reflect.tag) {\n        case 'literal': {\n            var _a = __read(revivers[(0, util_1.typeOf)(reflect.value)] || [identity], 1), reviver_1 = _a[0];\n            return reviver_1;\n        }\n        case 'brand':\n            return getReviversFor(reflect.entity);\n        case 'constraint':\n            return getReviversFor(reflect.underlying);\n        case 'union':\n            return reflect.alternatives.map(getReviversFor);\n        case 'intersect':\n            return reflect.intersectees.map(getReviversFor);\n        default:\n            var _b = __read(revivers[reflect.tag] || [identity], 1), reviver = _b[0];\n            return reviver;\n    }\n};\n/** Recursively map corresponding reviver and  */\nvar reviveValidate = function (reflect, visited) { return function (value) {\n    var e_1, _a, e_2, _b;\n    var revivers = getReviversFor(reflect);\n    if (Array.isArray(revivers)) {\n        switch (reflect.tag) {\n            case 'union':\n                try {\n                    for (var _c = __values(reflect.alternatives), _d = _c.next(); !_d.done; _d = _c.next()) {\n                        var alternative = _d.value;\n                        var validated = reviveValidate(alternative.reflect, visited)(value);\n                        if (validated.success)\n                            return validated;\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                return util_1.FAILURE.TYPE_INCORRECT(reflect, value);\n            case 'intersect':\n                try {\n                    for (var _e = __values(reflect.intersectees), _f = _e.next(); !_f.done; _f = _e.next()) {\n                        var intersectee = _f.value;\n                        var validated = reviveValidate(intersectee.reflect, visited)(value);\n                        if (!validated.success)\n                            return validated;\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n                return (0, util_1.SUCCESS)(value);\n            default:\n                /* istanbul ignore next */\n                throw Error('impossible');\n        }\n    }\n    else {\n        var reviver = revivers;\n        var validated = (0, runtype_1.innerValidate)(reflect, reviver(value), visited);\n        if (!validated.success && validated.code === 'VALUE_INCORRECT' && reflect.tag === 'literal')\n            // TODO: Temporary fix to show unrevived value in message; needs refactor\n            return util_1.FAILURE.VALUE_INCORRECT('literal', \"\\\"\".concat((0, literal_1.literal)(reflect.value), \"\\\"\"), \"\\\"\".concat(value, \"\\\"\"));\n        return validated;\n    }\n}; };\nvar getRegExpPatternFor = function (reflect) {\n    switch (reflect.tag) {\n        case 'literal':\n            return escapeRegExp(String(reflect.value));\n        case 'brand':\n            return getRegExpPatternFor(reflect.entity);\n        case 'constraint':\n            return getRegExpPatternFor(reflect.underlying);\n        case 'union':\n            return reflect.alternatives.map(getRegExpPatternFor).join('|');\n        case 'template': {\n            return reflect.strings.map(escapeRegExp).reduce(function (pattern, string, i) {\n                var prefix = pattern + string;\n                var runtype = reflect.runtypes[i];\n                if (runtype)\n                    return prefix + \"(?:\".concat(getRegExpPatternFor(runtype.reflect), \")\");\n                else\n                    return prefix;\n            }, '');\n        }\n        default:\n            var _a = __read(revivers[reflect.tag] || [undefined, '.*']), patterns = _a.slice(1);\n            return patterns.join('|');\n    }\n};\nvar createRegExpForTemplate = function (reflect) {\n    var pattern = reflect.strings.map(escapeRegExp).reduce(function (pattern, string, i) {\n        var prefix = pattern + string;\n        var runtype = reflect.runtypes[i];\n        if (runtype)\n            return prefix + \"(\".concat(getRegExpPatternFor(runtype.reflect), \")\");\n        else\n            return prefix;\n    }, '');\n    return new RegExp(\"^\".concat(pattern, \"$\"), 'su');\n};\nfunction Template() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var _a = __read(normalizeArgs(args), 2), strings = _a[0], runtypes = _a[1];\n    var self = { tag: 'template', strings: strings, runtypes: runtypes };\n    var regexp = createRegExpForTemplate(self);\n    var test = function (value, visited) {\n        var matches = value.match(regexp);\n        if (matches) {\n            var values = matches.slice(1);\n            for (var i = 0; i < runtypes.length; i++) {\n                var runtype = runtypes[i];\n                var value_1 = values[i];\n                var validated = reviveValidate(runtype.reflect, visited)(value_1);\n                if (!validated.success)\n                    return validated;\n            }\n            return (0, util_1.SUCCESS)(value);\n        }\n        else {\n            return util_1.FAILURE.VALUE_INCORRECT('string', \"\".concat((0, show_1.default)(self)), \"\\\"\".concat((0, literal_1.literal)(value), \"\\\"\"));\n        }\n    };\n    return (0, runtype_1.create)(function (value, visited) {\n        if (typeof value !== 'string')\n            return util_1.FAILURE.TYPE_INCORRECT(self, value);\n        else {\n            var validated = test(value, visited);\n            if (!validated.success) {\n                var result = util_1.FAILURE.VALUE_INCORRECT('string', \"\".concat((0, show_1.default)(self)), \"\\\"\".concat(value, \"\\\"\"));\n                if (result.message !== validated.message)\n                    // TODO: Should use `details` here, but it needs unionizing `string` anew to the definition of `Details`, which is a breaking change\n                    result.message += \" (inner: \".concat(validated.message, \")\");\n                return result;\n            }\n            else\n                return (0, util_1.SUCCESS)(value);\n        }\n    }, self);\n}\nexports.Template = Template;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Tuple = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\n/**\n * Construct a tuple runtype from runtypes for each of its elements.\n */\nfunction Tuple() {\n    var components = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        components[_i] = arguments[_i];\n    }\n    var self = { tag: 'tuple', components: components };\n    return (0, runtype_1.create)(function (xs, visited) {\n        if (!Array.isArray(xs))\n            return util_1.FAILURE.TYPE_INCORRECT(self, xs);\n        if (xs.length !== components.length)\n            return util_1.FAILURE.CONSTRAINT_FAILED(self, \"Expected length \".concat(components.length, \", but was \").concat(xs.length));\n        var keys = (0, util_1.enumerableKeysOf)(xs);\n        var results = keys.map(function (key) {\n            return (0, runtype_1.innerValidate)(components[key], xs[key], visited);\n        });\n        var details = keys.reduce(function (details, key) {\n            var result = results[key];\n            if (!result.success)\n                details[key] = result.details || result.message;\n            return details;\n        }, []);\n        if ((0, util_1.enumerableKeysOf)(details).length !== 0)\n            return util_1.FAILURE.CONTENT_INCORRECT(self, details);\n        else\n            return (0, util_1.SUCCESS)(xs);\n    }, self);\n}\nexports.Tuple = Tuple;\n","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Union = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\n/**\n * Construct a union runtype from runtypes for its alternatives.\n */\nfunction Union() {\n    var alternatives = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        alternatives[_i] = arguments[_i];\n    }\n    var match = function () {\n        var cases = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            cases[_i] = arguments[_i];\n        }\n        return function (x) {\n            for (var i = 0; i < alternatives.length; i++) {\n                if (alternatives[i].guard(x)) {\n                    return cases[i](x);\n                }\n            }\n        };\n    };\n    var self = { tag: 'union', alternatives: alternatives, match: match };\n    return (0, runtype_1.create)(function (value, visited) {\n        var e_1, _a, e_2, _b, e_3, _c, e_4, _d;\n        if (typeof value !== 'object' || value === null) {\n            try {\n                for (var alternatives_1 = __values(alternatives), alternatives_1_1 = alternatives_1.next(); !alternatives_1_1.done; alternatives_1_1 = alternatives_1.next()) {\n                    var alternative = alternatives_1_1.value;\n                    if ((0, runtype_1.innerValidate)(alternative, value, visited).success)\n                        return (0, util_1.SUCCESS)(value);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (alternatives_1_1 && !alternatives_1_1.done && (_a = alternatives_1.return)) _a.call(alternatives_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return util_1.FAILURE.TYPE_INCORRECT(self, value);\n        }\n        var commonLiteralFields = {};\n        try {\n            for (var alternatives_2 = __values(alternatives), alternatives_2_1 = alternatives_2.next(); !alternatives_2_1.done; alternatives_2_1 = alternatives_2.next()) {\n                var alternative = alternatives_2_1.value;\n                if (alternative.reflect.tag === 'record') {\n                    var _loop_1 = function (fieldName) {\n                        var field = alternative.reflect.fields[fieldName];\n                        if (field.tag === 'literal') {\n                            if (commonLiteralFields[fieldName]) {\n                                if (commonLiteralFields[fieldName].every(function (value) { return value !== field.value; })) {\n                                    commonLiteralFields[fieldName].push(field.value);\n                                }\n                            }\n                            else {\n                                commonLiteralFields[fieldName] = [field.value];\n                            }\n                        }\n                    };\n                    for (var fieldName in alternative.reflect.fields) {\n                        _loop_1(fieldName);\n                    }\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (alternatives_2_1 && !alternatives_2_1.done && (_b = alternatives_2.return)) _b.call(alternatives_2);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        for (var fieldName in commonLiteralFields) {\n            if (commonLiteralFields[fieldName].length === alternatives.length) {\n                try {\n                    for (var alternatives_3 = (e_3 = void 0, __values(alternatives)), alternatives_3_1 = alternatives_3.next(); !alternatives_3_1.done; alternatives_3_1 = alternatives_3.next()) {\n                        var alternative = alternatives_3_1.value;\n                        if (alternative.reflect.tag === 'record') {\n                            var field = alternative.reflect.fields[fieldName];\n                            if (field.tag === 'literal' &&\n                                (0, util_1.hasKey)(fieldName, value) &&\n                                value[fieldName] === field.value) {\n                                return (0, runtype_1.innerValidate)(alternative, value, visited);\n                            }\n                        }\n                    }\n                }\n                catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                finally {\n                    try {\n                        if (alternatives_3_1 && !alternatives_3_1.done && (_c = alternatives_3.return)) _c.call(alternatives_3);\n                    }\n                    finally { if (e_3) throw e_3.error; }\n                }\n            }\n        }\n        try {\n            for (var alternatives_4 = __values(alternatives), alternatives_4_1 = alternatives_4.next(); !alternatives_4_1.done; alternatives_4_1 = alternatives_4.next()) {\n                var targetType = alternatives_4_1.value;\n                if ((0, runtype_1.innerValidate)(targetType, value, visited).success)\n                    return (0, util_1.SUCCESS)(value);\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (alternatives_4_1 && !alternatives_4_1.done && (_d = alternatives_4.return)) _d.call(alternatives_4);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        return util_1.FAILURE.TYPE_INCORRECT(self, value);\n    }, self);\n}\nexports.Union = Union;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Unknown = void 0;\nvar runtype_1 = require(\"../runtype\");\nvar util_1 = require(\"../util\");\nvar self = { tag: 'unknown' };\n/**\n * Validates anything, but provides no new type information about it.\n */\nexports.Unknown = (0, runtype_1.create)(function (value) { return (0, util_1.SUCCESS)(value); }, self);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Void = void 0;\nvar unknown_1 = require(\"./unknown\");\n/**\n * Void is an alias for Unknown\n *\n * @deprecated Please use Unknown instead\n */\nexports.Void = unknown_1.Unknown;\n","\"use strict\";\n// Type guard to determine if an object has a given key\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FAILURE = exports.SUCCESS = exports.enumerableKeysOf = exports.typeOf = exports.hasKey = void 0;\nvar result_1 = require(\"./result\");\nvar show_1 = require(\"./show\");\n// If this feature gets implemented, we can use `in` instead: https://github.com/Microsoft/TypeScript/issues/10485\nfunction hasKey(key, object) {\n    return typeof object === 'object' && object !== null && key in object;\n}\nexports.hasKey = hasKey;\nvar typeOf = function (value) {\n    var _a, _b, _c;\n    return typeof value === 'object'\n        ? value === null\n            ? 'null'\n            : Array.isArray(value)\n                ? 'array'\n                : ((_a = value.constructor) === null || _a === void 0 ? void 0 : _a.name) === 'Object'\n                    ? 'object'\n                    : (_c = (_b = value.constructor) === null || _b === void 0 ? void 0 : _b.name) !== null && _c !== void 0 ? _c : typeof value\n        : typeof value;\n};\nexports.typeOf = typeOf;\nvar enumerableKeysOf = function (object) {\n    return typeof object === 'object' && object !== null\n        ? // Objects with a null prototype may not have `propertyIsEnumerable`\n            Reflect.ownKeys(object).filter(function (key) { var _a, _b; return (_b = (_a = object.propertyIsEnumerable) === null || _a === void 0 ? void 0 : _a.call(object, key)) !== null && _b !== void 0 ? _b : true; })\n        : [];\n};\nexports.enumerableKeysOf = enumerableKeysOf;\nfunction SUCCESS(value) {\n    return { success: true, value: value };\n}\nexports.SUCCESS = SUCCESS;\nexports.FAILURE = Object.assign(function (code, message, details) { return (__assign({ success: false, code: code, message: message }, (details ? { details: details } : {}))); }, {\n    TYPE_INCORRECT: function (self, value) {\n        var message = \"Expected \".concat(self.tag === 'template' ? \"string \".concat((0, show_1.default)(self)) : (0, show_1.default)(self), \", but was \").concat((0, exports.typeOf)(value));\n        return (0, exports.FAILURE)(result_1.Failcode.TYPE_INCORRECT, message);\n    },\n    VALUE_INCORRECT: function (name, expected, received) {\n        return (0, exports.FAILURE)(result_1.Failcode.VALUE_INCORRECT, \"Expected \".concat(name, \" \").concat(String(expected), \", but was \").concat(String(received)));\n    },\n    KEY_INCORRECT: function (self, expected, value) {\n        return (0, exports.FAILURE)(result_1.Failcode.KEY_INCORRECT, \"Expected \".concat((0, show_1.default)(self), \" key to be \").concat((0, show_1.default)(expected), \", but was \").concat((0, exports.typeOf)(value)));\n    },\n    CONTENT_INCORRECT: function (self, details) {\n        var formattedDetails = JSON.stringify(details, null, 2).replace(/^ *null,\\n/gm, '');\n        var message = \"Validation failed:\\n\".concat(formattedDetails, \".\\nObject should match \").concat((0, show_1.default)(self));\n        return (0, exports.FAILURE)(result_1.Failcode.CONTENT_INCORRECT, message, details);\n    },\n    ARGUMENT_INCORRECT: function (message) {\n        return (0, exports.FAILURE)(result_1.Failcode.ARGUMENT_INCORRECT, message);\n    },\n    RETURN_INCORRECT: function (message) {\n        return (0, exports.FAILURE)(result_1.Failcode.RETURN_INCORRECT, message);\n    },\n    CONSTRAINT_FAILED: function (self, message) {\n        var info = message ? \": \".concat(message) : '';\n        return (0, exports.FAILURE)(result_1.Failcode.CONSTRAINT_FAILED, \"Failed constraint check for \".concat((0, show_1.default)(self)).concat(info));\n    },\n    PROPERTY_MISSING: function (self) {\n        var message = \"Expected \".concat((0, show_1.default)(self), \", but was missing\");\n        return (0, exports.FAILURE)(result_1.Failcode.PROPERTY_MISSING, message);\n    },\n    PROPERTY_PRESENT: function (value) {\n        var message = \"Expected nothing, but was \".concat((0, exports.typeOf)(value));\n        return (0, exports.FAILURE)(result_1.Failcode.PROPERTY_PRESENT, message);\n    },\n    NOTHING_EXPECTED: function (value) {\n        var message = \"Expected nothing, but was \".concat((0, exports.typeOf)(value));\n        return (0, exports.FAILURE)(result_1.Failcode.NOTHING_EXPECTED, message);\n    },\n});\n","import * as rt  from \"runtypes\"\n\nexport const PushData = rt.Object({\n  title: rt.String,\n  body: rt.String,\n  url: rt.String,\n  icon: rt.Optional(rt.String),\n})\nexport type PushData = rt.Static<typeof PushData>\n","import * as rt from \"runtypes\"\n\nexport const GetVersionReq = rt.Object({\n    type: rt.Literal('getVersion'),\n})\nexport type TGetVersionReq = rt.Static<typeof GetVersionReq>\n\nexport const GetVersionRes = rt.Object({\n    type: rt.Literal('success'),\n    version: rt.Number,\n})\nexport type TGetVersionRes = rt.Static<typeof GetVersionRes>\n\nexport function logMessages() {\n    console.log('Yeah, messages.ts ;-)')\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/// <reference no-default-lib=\"true\"/>\n/// <reference lib=\"esnext\" />\n/// <reference lib=\"webworker\" />\n\nimport { GetVersionReq, logMessages, TGetVersionRes } from \"./messages\";\nimport { PushData } from \"./PushData\";\n\nexport type { };\n\n// NOTE: We must export or import at least one thing so we are not in\n// the \"global\" scope, but in a module scope which is re-declarable.\n//\n// The error from tsserver is: 2451: Cannot redeclare block-scoped\n// variable 'self'.\n//\n// Even though this is not really a module and cannot be: ServiceWorkers\n// cannot be modules.\n\n\n\ntype Version = number\n\nconst version: Version = 59\n\ndeclare const self: ServiceWorkerGlobalScope;\n\nlogMessages();\n\nconsole.log('Custom service worker functions for pr-newsletter: version=', version);\n\nfunction fetchAndCache(request: Request) {\n    console.log('fetch headers for ', request.url);\n    request.headers.forEach((val, key) => {\n        console.log('request header', key, ': ', val);\n    })\n    console.log('fetch ', request.url, request.cache);\n    return fetch(request)\n        .then(response => {\n            if (!response.ok) {\n                throw Error('Network response was not ok.');\n            }\n            const responseToCache = response.clone();\n            caches.open('my-cache').then(cache => {\n                cache.put(request, responseToCache);\n                responseToCache.headers.forEach((val, key) => {\n                    console.log('response header: ', key, ':', val);\n                })\n                const dateStr = responseToCache.headers.get('date');\n\n                if (dateStr != null) {\n                    const date = new Date(dateStr);\n                    console.log('date as string', dateStr, 'hours', date.getHours(), 'mins', date.getMinutes(), 'secs', date.getSeconds());\n                } else {\n                    console.warn('date header null!');\n                }\n                console.log('typeof date header', typeof(dateStr));\n                console.log('RESPONSE url, cache-control, last-modified', responseToCache.url, responseToCache.headers.get('cache-control'), responseToCache.headers.get('last-modified'));\n                console.log('put to cache the response for request', request, 'response', response);\n            });\n            return response;\n        })\n        .catch(() => {\n            const res = caches.match(request)\n            res.then(r => {\n                console.log('response from cache for request', request, ' - response: ', r);\n            })\n            return res;\n        });\n}\n\nself.addEventListener('fetch', event => {\n\n    // nicht ganz so gut denke ich da respondWith auch aufgerufen wird wenn nichts gefunden wird aber dann sollte normal fortgefahren werden\n    // switch (event.request.cache) {\n    //     case 'default':\n    // }\n    event.respondWith(\n      fetchAndCache(event.request).catch(() => {\n        return caches.match(event.request).then(cachedResponse => {\n          if (cachedResponse) {\n            return cachedResponse;\n          }\n          // Optional: Return a default fallback page for certain requests\n          if (event.request.mode === 'navigate') {\n            return caches.match('/offline.html');\n          }\n        });\n      })\n    );\n  });\n\n\nconst CACHE_NAME = 'pr-newsletter-cache_v1'\nconst PRE_CACHE = ['/', '/favicon.ico', '/manifest.webmanifest', '/newsletterSettings', '/overview']\n\nself.addEventListener('install', e => {\n    console.log('handling install event');\n    self.skipWaiting();\n\n    e.waitUntil(caches.open(CACHE_NAME).then(cache => {\n        return cache.addAll(PRE_CACHE)\n    }))\n})\n\n// this would be cache-first strategy, but we use network first strategy (see above)\n// self.addEventListener('fetch', function (event) {\n//     console.log('handling fetch event', event, 'request', event.request);\n//     event.respondWith(\n//         caches.open(CACHE_NAME).then(function (cache) {\n//             return cache.match(event.request).then(function (response) {\n//                 console.log('response for request', response);\n//                 return response || fetch(event.request).then(function (response) {\n//                     cache.put(event.request, response.clone());\n//                     return response;\n//                 });\n//             });\n//         })\n//     );\n// });\n\nself.addEventListener('notificationclick', e => {\n    e.notification.close();\n\n    if ('url' in e.notification.data) {\n        // console.log('self.origin', self.origin);\n\n        e.waitUntil(\n            self.clients.openWindow(e.notification.data.url)\n        );\n\n        // old:\n        // const p = self.clients.matchAll({ type: \"window\", includeUncontrolled: true }).then(c => {\n        //     // let couldFocus = false;\n        //     for (let client of c) {\n        //         if (client instanceof WindowClient) {\n        //             // console.log('instanceof WindowClient', client);\n        //             if ('focus' in client && typeof client.focus === 'function') {\n        //                 try {\n        //                     return client.focus().catch(reason => {\n        //                         console.error(reason, 'for client', client);\n        //                     });\n        //                     // couldFocus = true;\n        //                     // console.log('focus successful for client', client);\n        //                 } catch (reason) {\n        //                     console.error(reason, 'for client', client);\n        //                 }\n        //             } else {\n        //                 console.warn('no focus method in client');\n        //             }\n        //         } else {\n        //             // console.log('not instanceof WindowClient', client);\n        //         }\n        //         // console.log('client', client);\n\n        //     }\n\n        //     // if (!couldFocus) {\n        //     // console.log('open window for url', e.notification.data.url)\n        //     return self.clients.openWindow(e.notification.data.url).catch(reason => {\n        //         console.error(reason);\n        //     });\n        //     // }\n        // })\n\n        // e.waitUntil(p)\n    }\n\n})\n\n// TODO funktioniert fuer Apple zumindest IOS nur wenn die App auf dem Homescreen gespeichert wurde.\n// Zumindest laut MDN Dokumentation: https://developer.mozilla.org/en-US/docs/Web/API/PushEvent\n// Fuer Apple Handys:\n// \"Notifications are supported in web apps saved to the home screen.\"\n// (siehe: https://developer.mozilla.org/en-US/docs/Web/API/PushEvent)\n\n// TODO evtl mal systematisch austesten ob diese datei ueberhaupt ausgefuehrt wird indem nur auf antworten gewartet wird\nself.addEventListener('push', (e) => {\n\n    // console.log('push event: e=', e);\n    const pushData = e.data?.json();\n    // console.log('e.data?.json()', pushData)\n    // if (!PushData.guard(pushData)) {\n    //     console.error('Unexpected pushData', pushData)\n    //     return;\n    // }\n    console.log('received push event with pushData', pushData);\n    const notificationOptions: NotificationOptions = PushData.guard(pushData) ? {\n        body: pushData.body,\n        data: { url: pushData.url },\n        // tag: 'pr-webRTC call',\n        requireInteraction: true,\n        silent: false,\n        icon: pushData.icon,\n        // icon: '/accept-call-64x64.png'\n    } : {\n        body: 'Unexpected push event (pr-webrtc)',\n        // silent: false,\n        // icon: '/accept-call-64x64.png'\n    }\n    const title = PushData.guard(pushData) ? pushData.title : 'Fehlerhafte PushMsg';\n    const promise1 = self.registration.showNotification(title, notificationOptions);\n    // const promise2 = self.clients.matchAll().then(clients => {\n    //   // console.log('clients.length', clients.length);\n    //   clients.forEach(client => {\n    //     // console.log('sending push to', client);\n    //     client.postMessage(e.data?.json());\n    //   })\n    // })\n    e.waitUntil(Promise.all([promise1/* , promise2 */]))\n})\n\nself.addEventListener('message', (e) => {\n    console.log('received message in service worker (version ' + version + '): data', e.data);\n    if (GetVersionReq.guard(e.data)) {\n        const res: TGetVersionRes = {\n            type: 'success',\n            version: version\n        }\n        e.source.postMessage(res);\n        console.log('sent response to client');\n    } else {\n        console.log('guard failed?!');\n    }\n})"],"names":["__read","this","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spreadArray","to","from","pack","arguments","length","l","Array","prototype","slice","concat","Object","defineProperty","exports","AsyncContract","errors_1","util_1","runtypes","_i","lastIndex","argRuntypes","returnRuntype","enforce","f","args","message","failure","FAILURE","ARGUMENT_INCORRECT","ValidationError","check","returnedPromise","apply","Promise","RETURN_INCORRECT","then","Contract","checked","prototypes","WeakMap","target","propertyKey","parameterIndex","get","Map","set","validParameterIndices","Error","descriptor","method","methodId","name","constructor","String","runtypeCount","indices","getValidParameterIndices","forEach","type","typeIndex","result","validate","success","extendStatics","__extends","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","TypeError","__","create","_super","_this","code","undefined","details","__createBinding","k","k2","enumerable","__exportStar","InstanceOf","Nullish","Null","Undefined","Literal","literal_1","instanceof_1","__values","s","when","match","cases","x","e_1","_a","cases_1","cases_1_1","_b","T","guard","e_1_1","return","runtype","transformer","Failcode","TYPE_INCORRECT","VALUE_INCORRECT","KEY_INCORRECT","CONTENT_INCORRECT","CONSTRAINT_FAILED","PROPERTY_MISSING","PROPERTY_PRESENT","NOTHING_EXPECTED","innerValidate","isRuntype","index_1","show_1","RuntypeSymbol","hasKey","A","assert","_innerValidate","visited","has","SUCCESS","members","add","candidate","typeSet","Or","B","Union","And","Intersect","optional","Optional","nullable","withConstraint","constraint","options","Constraint","withGuard","withBrand","Brand","reflect","toString","default","targetType","showStringified","circular","refl","tag","brand","underlying","alternatives","map","join","intersectees","show","showEmbedded","inner","needsParens","parenthesize","strings","every","string","backtick_1","reduce","prefix","suffix","startsWith","readonlyTag","element","key","keys","fields","isPartial","components","ctor","entity","delete","isReadonly","Set","runtype_1","InternalArr","self","xs","isArray","enumerableKeysOf","results","asReadonly","BigInt","Boolean","Guard","unknown_1","Unknown","Dictionary","string_1","constraint_1","NumberKey","isNaN","keyRuntype","keyString","getPrototypeOf","numberString","isNumberLikeKey","test","keyInterop","globalThis","Number","Function","intersectees_1","intersectees_1_1","Lazy","delayed","cached","data","getWrapped","literal","union_1","valueBase","Never","Partial","Record","InternalRecord","keysOfFields","fieldsHasKey","xHasKey","isOptional","asPartial","pick","omit","includes","extend","assign","keyForValue","keyFor","quoteIfPresent","Template","escapeRegExp","replace","getInnerLiteral","identity","revivers","number","bigint","boolean","null","getReviversFor","typeOf","reviveValidate","e_2","reviver","validated","_c","_d","alternative","_e","_f","intersectee","e_2_1","getRegExpPatternFor","pattern","convenient","arg","pop","filter","parseArgs","literal_2","splice","template","innerStrings","first","rest","last","union","literal_3","_","intersect","literal_4","flattenInnerRuntypes","normalizeArgs","regexp","RegExp","matches","values","value_1","Tuple","e_3","e_4","alternatives_1","alternatives_1_1","commonLiteralFields","alternatives_2","alternatives_2_1","_loop_1","fieldName","field","alternatives_3","alternatives_3_1","e_3_1","alternatives_4","alternatives_4_1","e_4_1","Void","__assign","t","result_1","object","Reflect","ownKeys","propertyIsEnumerable","expected","received","formattedDetails","JSON","stringify","info","PushData","rt","title","body","url","icon","console","log","GetVersionReq","GetVersionRes","version","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","logMessages","addEventListener","event","request","respondWith","headers","val","cache","fetch","response","ok","responseToCache","clone","caches","open","put","dateStr","date","Date","getHours","getMinutes","getSeconds","warn","catch","res","cachedResponse","mode","PRE_CACHE","skipWaiting","waitUntil","addAll","notification","close","clients","openWindow","pushData","json","notificationOptions","requireInteraction","silent","promise1","registration","showNotification","all","source","postMessage"],"sourceRoot":""}